<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calc ¬∑ –ë–∞–ª–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <main class="shell">
      <header class="shell-header">
        <p class="logo-label" data-i18n="appVersion">Calc v1</p>
        <h1 data-i18n="appTitle">–ë–∞–ª–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h1>
        <p class="subtitle" data-i18n="appSubtitle">
          –ï–¥–∏–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–≥–Ω–µ–≤—ã—Ö –∑–∞–¥–∞—á –∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
        </p>
      </header>

      <nav class="tabs" aria-label="Sections">
        <button class="tab active" data-tab="home" data-tab-icon="üè†" data-i18n="tabHome" data-i18n-title="tipTabHome">–ì–ª–∞–≤–Ω–∞—è</button>
        <button class="tab" data-tab="global" data-tab-icon="üß≠" data-i18n="tabGlobal" data-i18n-title="tipTabGlobal">–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        <button class="tab" data-tab="fire" data-tab-icon="üéØ" data-i18n="tabFire" data-i18n-title="tipTabFire">–û–≥–Ω–µ–≤—ã–µ –∑–∞–¥–∞—á–∏</button>
        <button class="tab" data-tab="counter-battery" data-tab-icon="üõ∞Ô∏è" data-i18n="tabCounterBattery">–ö–æ–Ω—Ç—Ä–±–∞—Ç–∞—Ä–µ–π–Ω–∞—è –±–æ—Ä—å–±–∞</button>
        <button class="tab" data-tab="map" data-tab-icon="üó∫Ô∏è" data-i18n="tabMap" data-i18n-title="tipTabMap">–ö–∞—Ä—Ç–∞</button>
        <button class="tab" data-tab="safety" data-tab-icon="üõ°Ô∏è" data-i18n="tabSafety" data-i18n-title="tipTabSafety">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –¥–∞–Ω–Ω—ã–µ</button>
        <button class="tab" data-tab="settings" data-tab-icon="‚öôÔ∏è" data-i18n="tabSettings" data-i18n-title="tipTabSettings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
      </nav>

      <section class="tab-panel active" data-panel="home">
        <div class="panel-grid panel-grid-3">
          <article class="card" data-i18n-title="tipHomeGlobalCard">
            <h2 data-i18n="homeConfiguration">–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            <div class="card-actions">
              <button class="btn" data-open-tab="global" data-i18n="editGlobalData">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ä—É–¥–∏—è, –±–∞—Ç–∞—Ä–µ–∏ –∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π</button>
              <a class="btn ghost" href="http://localhost:8000/docs" target="_blank" rel="noreferrer" data-i18n="openApi">–û—Ç–∫—Ä—ã—Ç—å API</a>
            </div>
          </article>

          <article class="card" data-i18n-title="tipHomeFireCard">
            <h2 data-i18n="homeFire">–û–≥–Ω–µ–≤—ã–µ –∑–∞–¥–∞—á–∏</h2>
            <div class="card-actions">
              <button class="btn" data-open-tab="fire" data-i18n="openMissionPlanner">–û—Ç–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫—É –∑–∞–¥–∞—á</button>
              <button class="btn ghost" id="health-check" data-i18n="checkServices">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã</button>
            </div>
          </article>

          <article class="card" data-i18n-title="tipHomeMapCard">
            <h2 data-i18n="homeMap">–ö–∞—Ä—Ç–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</h2>
            <label for="map-url" data-i18n="mapUrl">URL –∫–∞—Ä—Ç—ã</label>
            <input id="map-url" type="url" placeholder="http://localhost:4173" />
            <div class="card-actions">
              <button class="btn" id="open-map" data-i18n="openMap">–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É</button>
            </div>
          </article>
        </div>



        <div class="status-line">
          <p class="status" data-service="ballistics"></p>
        </div>
      </section>

      <section class="tab-panel" data-panel="global">
        <div class="section-layout global-layout">
          <article class="card">
            <h2 data-i18n="batterySectionTitle">–ë–∞—Ç–∞—Ä–µ–∏</h2>
            <label for="battery-count" data-i18n="batteryCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞—Ç–∞—Ä–µ–π</label>
            <input id="battery-count" type="number" min="1" max="5" value="2" />
            <p class="hint" data-i18n="batteryHeightHint">–í—ã—Å–æ—Ç–∞ –∑–∞–¥–∞—ë—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –±–∞—Ç–∞—Ä–µ–∏ –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –æ—Ä—É–¥–∏—è–º —ç—Ç–æ–π –±–∞—Ç–∞—Ä–µ–∏.</p>
            <div id="battery-config" class="stack"></div>
          </article>
          <article class="card">
            <h2 data-i18n="gunsSectionTitle">–û—Ä—É–¥–∏—è</h2>
            <p class="hint" data-i18n="gunsHint">–î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ä—É–¥–∏—è —É–∫–∞–∂–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞—Ä—Ç—ã.</p>
            <div id="guns-coordinates" class="stack"></div>
          </article>
          <article class="card">
            <h2 data-i18n="observerSectionTitle">–ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏</h2>
            <label for="observer-count" data-i18n="observerCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π (–¥–æ 5)</label>
            <input id="observer-count" type="number" min="1" max="5" value="2" />
            <div id="observer-bindings" class="stack"></div>
          </article>
        </div>
      </section>

      <section class="tab-panel" data-panel="fire">
        <div class="section-layout">
          <article class="card">
            <h2 data-i18n="missionTitle">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ–≥–Ω–µ–≤–æ–π –∑–∞–¥–∞—á–∏</h2>
            <label for="mission-name" data-i18n="missionName">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</label>
            <input id="mission-name" value="Mission-1" />
            <label for="target-x" data-i18n="targetX">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Ü–µ–ª–∏ X</label>
            <input id="target-x" type="text" inputmode="numeric" data-coordinate value="1500" />
            <label for="target-y" data-i18n="targetY">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Ü–µ–ª–∏ Y</label>
            <input id="target-y" type="text" inputmode="numeric" data-coordinate value="1800" />
            <label for="mission-battery" data-i18n="missionBattery">–ë–∞—Ç–∞—Ä–µ—è</label>
            <select id="mission-battery"></select>
            <label for="mission-gun" data-i18n="missionGun">–û—Ä—É–¥–∏–µ (–∏–ª–∏ –≤—Å–µ –≤ –±–∞—Ç–∞—Ä–µ–µ)</label>
            <select id="mission-gun"></select>
            <h3 data-i18n="missionProjectileSelectionTitle">–í—ã–±–æ—Ä —Å–Ω–∞—Ä—è–¥–æ–≤ –ø–æ —Ç–∏–ø–∞–º –æ—Ä—É–¥–∏–π</h3>
            <p class="hint" data-i18n="missionProjectileSelectionHint">–°–Ω–∞—Ä—è–¥ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –æ—Ä—É–¥–∏—è, —É—á–∞—Å—Ç–≤—É—é—â–µ–≥–æ –≤ –∑–∞–¥–∞—á–µ.</p>
            <div id="mission-projectile-selectors" class="stack compact-stack"></div>
            <label for="fire-mode" data-i18n="fireMode">–¢–∏–ø –æ–≥–Ω—è</label>
            <select id="fire-mode">
              <option value="linear" data-i18n="fireModeLinear">–õ–∏–Ω–µ–π–Ω—ã–π —Å–Ω–æ–ø</option>
              <option value="parallel" data-i18n="fireModeParallel">–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π</option>
              <option value="converging" data-i18n="fireModeConverging">–°—Ö–æ–¥—è—â–∏–π—Å—è</option>
              <option value="open" data-i18n="fireModeOpen">–û—Ç–∫—Ä—ã—Ç—ã–π</option>
              <option value="circular" data-i18n="fireModeCircular">–ö—Ä—É–≥–æ–≤–æ–π</option>
            </select>
            <div id="fire-mode-settings" class="stack compact-stack">
              <div data-fire-mode-panel="linear" class="pair pair-2">
                <input id="fire-linear-start-x" type="text" inputmode="numeric" data-coordinate data-fire-setting="linearStartX" placeholder="Start X" />
                <input id="fire-linear-start-y" type="text" inputmode="numeric" data-coordinate data-fire-setting="linearStartY" placeholder="Start Y" />
                <input id="fire-linear-end-x" type="text" inputmode="numeric" data-coordinate data-fire-setting="linearEndX" placeholder="End X" />
                <input id="fire-linear-end-y" type="text" inputmode="numeric" data-coordinate data-fire-setting="linearEndY" placeholder="End Y" />
              </div>
              <div data-fire-mode-panel="parallel" class="pair pair-2 hidden">
                <input id="fire-parallel-width" type="number" min="10" step="10" data-fire-setting="parallelWidth" placeholder="Width (m)" />
                <input id="fire-parallel-lanes" type="number" min="2" max="10" step="1" data-fire-setting="parallelLanes" placeholder="Lanes" />
              </div>
              <div data-fire-mode-panel="converging" class="pair pair-2 hidden">
                <input id="fire-converging-radius" type="number" min="10" step="10" data-fire-setting="convergingRadius" placeholder="Radius (m)" />
                <input id="fire-converging-azimuth" type="number" min="0" max="359" step="1" data-fire-setting="convergingAzimuth" placeholder="Azimuth¬∞" />
              </div>
              <div data-fire-mode-panel="open" class="pair pair-2 hidden">
                <input id="fire-open-width" type="number" min="10" step="10" data-fire-setting="openWidth" placeholder="Width (m)" />
                <input id="fire-open-depth" type="number" min="10" step="10" data-fire-setting="openDepth" placeholder="Depth (m)" />
              </div>
              <div data-fire-mode-panel="circular" class="pair pair-2 hidden">
                <input id="fire-circular-radius" type="number" min="10" step="10" data-fire-setting="circularRadius" placeholder="Radius (m)" />
                <input id="fire-circular-count" type="number" min="4" max="24" step="1" data-fire-setting="circularCount" placeholder="Points" />
              </div>
            </div>
          </article>
          <article class="card">
            <h2 data-i18n="actionsTitle">–î–µ–π—Å—Ç–≤–∏—è</h2>
            <p class="hint" data-i18n="gunnerHint">–í—Å–µ —Ä–∞—Å—á—ë—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.</p>
            <h3 data-i18n="correctionTitle">–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞</h3>
            <label for="correction-observer" data-i18n="correctionObserver">–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏</label>
            <select id="correction-observer"></select>
            <p id="correction-anchor-info" class="hint"></p>
            <div class="pair pair-2">
              <input id="correction-lr" type="number" step="1" placeholder="L/R (m)" />
              <input id="correction-add-drop" type="number" step="1" placeholder="Add/Drop (m)" />
            </div>
            <div class="card-actions inline-actions">
              <button class="btn ghost" id="save-correction" data-i18n="saveCorrection">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ø—Ä–∞–≤–∫—É</button>
              <button class="btn ghost" id="reset-correction" data-i18n="resetCorrection">–°–±—Ä–æ—Å–∏—Ç—å –ø–æ–ø—Ä–∞–≤–∫—É</button>
            </div>
            <h3 data-i18n="observerTargetingTitle">–ù–∞–≤–µ–¥–µ–Ω–∏–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–º</h3>
            <p class="hint" data-i18n="observerTargetingHint">–ï—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–ª–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã, –∑–∞–¥–∞–π—Ç–µ –¥–∞–ª—å–Ω–æ—Å—Ç—å, –∞–∑–∏–º—É—Ç –∏ —É–≥–æ–ª.</p>
            <div class="pair pair-2">
              <input id="observer-target-distance" type="number" min="0" step="1" placeholder="Distance (m)" />
              <input id="observer-target-azimuth" type="number" min="0" max="359" step="0.1" placeholder="Azimuth¬∞" />
              <input id="observer-target-angle" type="number" min="-89" max="89" step="0.1" placeholder="Angle¬∞" />
            </div>
            <div class="card-actions inline-actions">
              <button class="btn ghost" id="apply-observer-targeting" data-i18n="applyObserverTargeting">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ü–µ–ª—å –æ—Ç –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è</button>
            </div>
            <div class="card-actions">
              <button class="btn" id="calculate-btn" data-i18n="calculate">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
              <button class="btn ghost" id="show-mto" data-i18n="showMto">–ü–æ–∫–∞–∑–∞—Ç—å MTO</button>
              <button class="btn ghost" id="save-mission" data-i18n="logMission">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–∏—Å—Å–∏—é</button>
            </div>
            <pre id="fire-output" class="output"></pre>
          </article>
        </div>
      </section>

      <section class="tab-panel" data-panel="map">
        <div class="section-layout map-layout">
          <article class="card map-card" data-i18n-title="tipMapCanvasCard">
            <h2 data-i18n="mapPanelTitle">–¢–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–∞ (Leaflet)</h2>
            <div id="leaflet-map" class="leaflet-map" aria-label="Leaflet tactical map"></div>
          </article>
          <article class="card" data-i18n-title="tipMapToolsCard">
            <h2 data-i18n="mapLegendTitle">–õ–µ–≥–µ–Ω–¥–∞</h2>
            <p class="hint" data-i18n="mapLegendHint">–ö–∞—Ä—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ä—É–¥–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –±–∞—Ç–∞—Ä–µ–∏ –∏ —Ç–µ–∫—É—â—É—é —Ü–µ–ª—å –∏–∑ –≤–∫–ª–∞–¥–∫–∏ ¬´–û–≥–Ω–µ–≤—ã–µ –∑–∞–¥–∞—á–∏¬ª.</p>
            <div id="map-legend" class="stack"></div>

            <h2 data-i18n="mapToolsTitle">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–µ—Ç–æ–∫</h2>
            <label for="marker-tool" data-i18n="markerToolLabel">–¢–∏–ø –º–µ—Ç–∫–∏</label>
            <select id="marker-tool">
              <option value="gun" data-i18n="markerToolGun">–ê–∫—Ç–∏–≤–Ω–æ–µ –æ—Ä—É–¥–∏–µ</option>
              <option value="battery" data-i18n="markerToolBattery">–ê–∫—Ç–∏–≤–Ω–∞—è –±–∞—Ç–∞—Ä–µ—è</option>
              <option value="observer" data-i18n="markerToolObserver">–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å</option>
              <option value="ruler" data-i18n="markerToolRuler">–õ–∏–Ω–µ–π–∫–∞</option>
              <option value="coords" data-i18n="markerToolCoords">–°–Ω—è—Ç–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç</option>
            </select>
            <label for="marker-target" data-i18n="markerTargetLabel">–ê–∫—Ç–∏–≤–Ω–∞—è —Ü–µ–ª—å –º–µ—Ç–∫–∏</label>
            <select id="marker-target"></select>
            <div class="card-actions">
              <button class="btn" id="apply-manual-markers" data-i18n="applyManualMarkers">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä—É—á–Ω—ã–µ –º–µ—Ç–∫–∏</button>
              <button class="btn ghost" id="clear-manual-markers" data-i18n="clearManualMarkers">–û—á–∏—Å—Ç–∏—Ç—å —Ä—É—á–Ω—ã–µ –º–µ—Ç–∫–∏</button>
            </div>
            <pre id="map-tools-output" class="output compact-output"></pre>
          </article>
        </div>
      </section>

      <section class="tab-panel" data-panel="counter-battery">
        <div class="section-layout">
          <article class="card">
            <h2 data-i18n="counterBatteryTitle">–ö–æ–Ω—Ç—Ä–±–∞—Ç–∞—Ä–µ–π–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ</h2>
            <p class="hint" data-i18n="counterBatteryHint">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ä–∞–∂–µ—Å–∫–æ–≥–æ –æ—Ä—É–¥–∏—è: –∑–≤—É–∫, –≤–æ—Ä–æ–Ω–∫–∏, —Ç—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏—è –ø–æ –∞–∑–∏–º—É—Ç–∞–º –∏ –≥–∏–ø–µ—Ä–±–æ–ª–∏—á–µ—Å–∫–∏–π TDOA.</p>
            <label for="cb-method" data-i18n="counterBatteryMethod">–ú–µ—Ç–æ–¥ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è</label>
            <select id="cb-method">
              <option value="sound-ranging" data-i18n="cbMethodSound">–ó–≤—É–∫–æ–ø–µ–ª–µ–Ω–≥–∞—Ü–∏—è (sound ranging)</option>
              <option value="crater-analysis" data-i18n="cbMethodCrater">–ê–Ω–∞–ª–∏–∑ –≤–æ—Ä–æ–Ω–æ–∫ –∏ –æ–±—Ä–∞—Ç–Ω—ã–π –∞–∑–∏–º—É—Ç</option>
              <option value="azimuth-triangulation" data-i18n="cbMethodTriangulation">–¢—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏—è –ø–æ –∞–∑–∏–º—É—Ç–∞–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π</option>
              <option value="hyperbola-tdoa" data-i18n="cbMethodHyperbola">–ì–∏–ø–µ—Ä–±–æ–ª–∞ –ø–æ —Ä–∞–∑–Ω–æ—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏—Ö–æ–¥–∞ (TDOA)</option>
            </select>
            <label for="cb-sound-bearing" data-i18n="cbBearing">–ê–∑–∏–º—É—Ç –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫ (¬∞)</label>
            <input id="cb-sound-bearing" type="number" min="0" max="359.9" step="0.1" placeholder="52.5" />
            <label for="cb-est-distance" data-i18n="cbEstimatedDistance">–û—Ü–µ–Ω–æ—á–Ω–∞—è –¥–∞–ª—å–Ω–æ—Å—Ç—å (–º)</label>
            <input id="cb-est-distance" type="number" min="0" step="10" placeholder="5200" />
            <label for="cb-tdoa-delta" data-i18n="cbTdoaDelta">–†–∞–∑–Ω–∏—Ü–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏—Ö–æ–¥–∞ (–º—Å)</label>
            <input id="cb-tdoa-delta" type="number" step="1" placeholder="45" />
            <label for="cb-impact-bearing" data-i18n="cbImpactBearing">–û–±—Ä–∞—Ç–Ω—ã–π –∞–∑–∏–º—É—Ç –æ—Ç –≤–æ—Ä–æ–Ω–∫–∏ (¬∞)</label>
            <input id="cb-impact-bearing" type="number" min="0" max="359.9" step="0.1" placeholder="231" />
          </article>
          <article class="card">
            <h2 data-i18n="counterBatteryObservers">–î–∞–Ω–Ω—ã–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π</h2>
            <p class="hint" data-i18n="counterBatteryObserversHint">–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –¥–æ–∫–ª–∞–¥—ã–≤–∞–µ—Ç –∞–∑–∏–º—É—Ç. –ß–µ–º –±–æ–ª—å—à–µ —Ç–æ—á–µ–∫, —Ç–µ–º —Ç–æ—á–Ω–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤—Ä–∞–≥–∞.</p>
            <div id="cb-observations" class="stack"></div>
            <div class="card-actions inline-actions">
              <button class="btn ghost" id="cb-add-point" data-i18n="cbAddPoint">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫—É</button>
              <button class="btn ghost" id="cb-clear-points" data-i18n="cbClearPoints">–û—á–∏—Å—Ç–∏—Ç—å —Ç–æ—á–∫–∏</button>
            </div>
            <div class="card-actions top-gap">
              <button class="btn" id="cb-locate-target" data-i18n="cbLocateTarget">–ù–∞–π—Ç–∏ –≤—Ä–∞–∂–µ—Å–∫–æ–µ –æ—Ä—É–¥–∏–µ</button>
              <button class="btn ghost" id="cb-calculate-response" data-i18n="cbCalculateResponse">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç–Ω—ã–π –æ–≥–æ–Ω—å</button>
            </div>
            <pre id="cb-output" class="output"></pre>
          </article>
        </div>
      </section>

      <section class="tab-panel" data-panel="safety">
        <div class="section-layout">
          <article class="card">
            <h2 data-i18n="safeDataTitle">–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–∞–Ω–Ω—ã—Ö</h2>
            <p data-i18n="safeDataDescription">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∂—É—Ä–Ω–∞–ª–æ–≤ –∏ —ç–∫—Å–ø–æ—Ä—Ç —Å–ª—É–∂–µ–±–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.</p>
            <div class="card-actions">
              <button class="btn ghost" id="open-logs" data-i18n="openLogs">–û—Ç–∫—Ä—ã—Ç—å –ª–æ–≥–∏</button>
              <button class="btn ghost" id="export-data" data-i18n="exportData">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
              <button class="btn danger" id="clear-data" data-i18n="clearAllData">–û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
            </div>
            <pre id="safety-output" class="output compact-output"></pre>
          </article>
          <article class="card">
            <h2 data-i18n="serviceState">–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤</h2>
            <p class="status info" data-service="ballistics-copy"></p>
          </article>
        </div>
      </section>

      <section class="tab-panel" data-panel="settings">
        <div class="section-layout">
          <article class="card">
            <h2 data-i18n="generalSettings">–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            <label for="language" data-i18n="language">–Ø–∑—ã–∫</label>
            <select id="language">
              <option value="ru">–†—É—Å—Å–∫–∏–π</option>
              <option value="en">English</option>
            </select>

            <label for="theme" data-i18n="theme">–¢–µ–º–∞</label>
            <select id="theme">
              <option value="terminal" data-i18n="themeTerminal">Terminal Green</option>
              <option value="midnight" data-i18n="themeMidnight">Midnight Blue</option>
            </select>
          </article>

          <article class="card">
            <h2 data-i18n="mapSettingsTitle">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ä—Ç—ã</h2>
            <p class="hint" data-i18n="mapSettingsHint">–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã —Å—é–¥–∞, —á—Ç–æ–±—ã –Ω–µ –∑–∞–≥—Ä–æ–º–æ–∂–¥–∞—Ç—å –≤–∫–ª–∞–¥–∫—É —Å –º–µ—Ç–∫–∞–º–∏.</p>
            <div class="card-actions">
              <button class="btn ghost" id="toggle-calibration-mode" data-i18n="calibrationModeToggle">–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞: –≤—ã–∫–ª</button>
            </div>
            <div id="calibration-controls" class="stack hidden">
              <p class="hint" data-i18n="calibrationHint">–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞: –≤–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º, –¥–≤–æ–π–Ω—ã–º —â–µ–ª—á–∫–æ–º —Å—Ç–∞–≤—å—Ç–µ –º–µ—Ç–∫–∏ P0/P1/P2 —Ü–∏–∫–ª–∏—á–Ω–æ. –í–≤–µ–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã P0 –∏ –¥–ª–∏–Ω—É P1-P2 –≤ –º–µ—Ç—Ä–∞—Ö.</p>
              <p class="hint" id="calibration-last-info"></p>
              <div class="pair pair-2">
                <input id="cal-p0-x" type="number" placeholder="P0 X" />
                <input id="cal-p0-y" type="number" placeholder="P0 Y" />
              </div>
              <div class="pair pair-1">
                <input id="cal-scale-meters" type="number" min="0" step="0.1" placeholder="P1-P2 scale (m)" />
              </div>
              <div class="card-actions inline-actions">
                <button class="btn ghost" id="apply-calibration" data-i18n="applyCalibration">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–∞–ª–∏–±—Ä–æ–≤–∫—É</button>
                <button class="btn ghost" id="reset-calibration" data-i18n="resetCalibration">–°–±—Ä–æ—Å–∏—Ç—å –∫–∞–ª–∏–±—Ä–æ–≤–∫—É</button>
              </div>
            </div>
            <label for="map-image-upload" data-i18n="mapImageUpload">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–≤–æ—é –∫–∞—Ä—Ç—É (PNG/JPG)</label>
            <input id="map-image-upload" type="file" accept="image/png,image/jpeg,image/webp" />
            <div class="card-actions inline-actions">
              <button class="btn ghost" id="paste-map-image" data-i18n="pasteMapImage">–í—Å—Ç–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É –∏–∑ –±—É—Ñ–µ—Ä–∞</button>
              <button class="btn ghost" id="clear-map-image" data-i18n="clearMapImage">–£–±—Ä–∞—Ç—å –∫–∞—Ä—Ç—É</button>
            </div>
          </article>

          <article class="card">
            <h2 data-i18n="profilesTitle">–ü—Ä–æ—Ñ–∏–ª–∏ –æ—Ä—É–¥–∏–π –∏ –±–æ–µ–ø—Ä–∏–ø–∞—Å–æ–≤</h2>
            <p class="hint" data-i18n="profilesHint">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–∫—Ç–æ—Ä–∞ –æ–≥–Ω—è, –∑–æ–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∏–≤—è–∑–æ–∫ –∫ —Å–Ω–∞—Ä—è–¥–∞–º/—Ç–∞–±–ª–∏—Ü–∞–º.</p>
            <div id="profiles-editor" class="stack"></div>
          </article>
        </div>
      </section>
    </main>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script type="module" src="/app.js"></script>
  </body>
</html>
